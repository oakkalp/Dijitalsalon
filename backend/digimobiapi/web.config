<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <!-- ✅ Upload limitleri: 100 MB'a kadar video yükleme için -->
    <security>
      <requestFiltering>
        <requestLimits maxAllowedContentLength="104857600" /> <!-- 100 MB in bytes -->
      </requestFiltering>
    </security>
    
    <!-- ✅ PHP için execution timeout artır -->
    <fastCgi>
      <applicationFullPath>C:\Program Files (x86)\PHP\v7.4\php-cgi.exe</applicationFullPath>
      <activityTimeout>300</activityTimeout>
      <requestTimeout>300</requestTimeout>
    </fastCgi>
    
    <!-- ✅ Multipart request'ler için özel ayar -->
    <httpProtocol>
      <customHeaders>
        <remove name="X-Powered-By" />
      </customHeaders>
    </httpProtocol>
    
    <!-- ✅ Hata sayfalarını devre dışı bırak (JSON response için) -->
    <httpErrors errorMode="Custom" existingResponse="PassThrough" />
  </system.webServer>
  
  <system.web>
    <!-- ✅ ASP.NET için upload limiti (PHP değil ama IIS için gerekli) -->
    <httpRuntime maxRequestLength="102400" executionTimeout="300" />
    
    <!-- ✅ Compilation ayarları -->
    <compilation tempDirectory="C:\Inetpub\vhosts\cagapps.app\tmp" />
  </system.web>
</configuration>

